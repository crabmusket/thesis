\usepackage{todonotes}
\usepackage{amssymb,amsmath}
\usepackage[hidelinks]{hyperref}

% Source code listings with my favourite colours.
\usepackage{listings}
\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}

% An \opinion command for when I make stuff up.
\usepackage{color}
\newcommand{\opinion}[1]{{\color{red}#1}}

% Bibliography using Biblatex.
\usepackage[
	firstinits=true,
	backend=bibtex,
	isbn=false,
	doi=false,
	backref=true,
	maxbibnames=100,
	maxcitenames=2
]{biblatex}
\newcommand{\authors}[1]{\citeauthor{#1}}

% Rename 'Bibliography' to 'References'.
\usepackage[nottoc, notlof, notlot]{tocbibind}
\renewcommand\bibname{References}

\DefineBibliographyStrings{english}{%
  bibliography = {References},
  backrefpage = {see page},
  backrefpages = {see pages},
}

% Vectors should be bold and non-italic.
\renewcommand{\vec}[1]{\mathbf{#1}}
\newcommand{\hvec}[1]{\hat{\vec{#1}}}
\newcommand{\dvec}[1]{\dot{\vec{#1}}}

% Optimisation problem command.
\usepackage{xparse}
\NewDocumentCommand%
	{\optimise}
	{m m m >{\SplitList{;}}m}
	{\begin{aligned}
			& \underset{#2}{\text{#1}} && #3 \\
			& \text{subject to} && \ProcessList{#4}{\optimiseConstraint}.
	\end{aligned}}
\newcommand\optimiseConstraint[1]{#1\let\optimiseConstraint\optimiseConstraintA}
\newcommand\optimiseConstraintA[1]{, \\ &&& #1}

% For defining heat flows in the model chapter.
\newcommand{\flow}[1]{(\dot{T}_i)_{\;\text{#1}}}
