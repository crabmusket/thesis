\usepackage{todonotes}
\usepackage{amssymb,amsmath}
\usepackage[hidelinks]{hyperref}

% An \opinion command for when I make stuff up.
\usepackage{color}
\newcommand{\opinion}[1]{{\color{red}#1}}

% More convenient reference. \refer{Section}{sec:x}
\newcommand{\refer}[2]{\hyperref[#2]{#1~\ref*{#2}}}

% Because I need this so often.
\newcommand{\etal}{\emph{et al}}

% Bibliography using Biblatex.
\usepackage[
	firstinits=true,
	backend=bibtex,
	isbn=false,
	doi=false,
	backref=true,
	maxbibnames=100,
	maxcitenames=2
]{biblatex}
\newcommand{\authors}[1]{\citeauthor{#1}}

% Rename 'Bibliography' to 'References'.
\usepackage[nottoc, notlof, notlot]{tocbibind}
\renewcommand\bibname{References}

\DefineBibliographyStrings{english}{%
  bibliography = {References},
  backrefpage = {see page},
  backrefpages = {see pages},
}

% Vectors should be bold and non-italic.
\renewcommand{\vec}[1]{\mathbf{#1}}
\newcommand{\hvec}[1]{\hat{\vec{#1}}}
\newcommand{\dvec}[1]{\dot{\vec{#1}}}

% Optimisation problem command.
\usepackage{xparse}
\NewDocumentCommand%
	{\optimise}
	{m m m >{\SplitList{;}}m}
	{\begin{aligned}
			& \underset{#2}{\text{#1}} && #3 \\
			& \text{subject to} && \ProcessList{#4}{\optimiseConstraint}.
	\end{aligned}}
\newcommand\optimiseConstraint[1]{#1\let\optimiseConstraint\optimiseConstraintA}
\newcommand\optimiseConstraintA[1]{, \\ &&& #1}
